{
    "swagger": "2.0",
    "info": {
        "description": "API for PinMarker Mobile, Web, and Telegram Bot tracking feature",
        "title": "PinMarker API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:9001",
    "basePath": "/api/v1",
    "paths": {
        "/api/v1/tracks": {
            "post": {
                "description": "Create an track",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Track"
                ],
                "summary": "Create Track",
                "parameters": [
                    {
                        "description": "Post Track Request Body",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/entities.RequestCreateTrack"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseCreateTrack"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseBadRequest"
                        }
                    }
                }
            }
        },
        "/api/v1/tracks/multi": {
            "post": {
                "description": "Create multiple track",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Track"
                ],
                "summary": "Create Track Multiple",
                "parameters": [
                    {
                        "description": "Post Track Multiple Request Body",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "app_source": {
                                        "type": "string",
                                        "example": "pinmarker"
                                    },
                                    "battery_indicator": {
                                        "type": "integer",
                                        "example": 85
                                    },
                                    "created_at": {
                                        "type": "string",
                                        "example": "2025-06-23T11:30:15.913505+07:00"
                                    },
                                    "created_by": {
                                        "type": "string",
                                        "example": "123e4567-e89b-12d3-a456-426614174000"
                                    },
                                    "track_lat": {
                                        "type": "string",
                                        "example": "-6.200000"
                                    },
                                    "track_long": {
                                        "type": "string",
                                        "example": "106.816666"
                                    },
                                    "track_type": {
                                        "type": "string",
                                        "example": "live"
                                    }
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseCreateTrackMulti"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseBadRequest"
                        }
                    }
                }
            }
        },
        "/api/v1/tracks/{app_source}/{created_by}": {
            "get": {
                "description": "Returns a list of track in pagination format",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Track"
                ],
                "summary": "Get All Track",
                "parameters": [
                    {
                        "type": "string",
                        "description": "created_by must be UUID",
                        "name": "created_by",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "app_source (such as: pinmarker, mi-fik, myride, or kumande)",
                        "name": "app_source",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseGetAllTrack"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseNotFound"
                        }
                    }
                }
            }
        },
        "/api/v1/tracks/{app_source}/{created_by}/{track_id}": {
            "delete": {
                "description": "Delete track by given id",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Track"
                ],
                "summary": "Delete Track By ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "created_by must be UUID",
                        "name": "created_by",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "app_source (such as: pinmarker, mi-fik, myride, or kumande)",
                        "name": "app_source",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "track_id must be UUID",
                        "name": "track_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseDeleteTrackById"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/entities.ResponseNotFound"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "entities.RequestCreateTrack": {
            "type": "object",
            "properties": {
                "app_source": {
                    "type": "string",
                    "example": "pinmarker"
                },
                "battery_indicator": {
                    "type": "integer",
                    "example": 85
                },
                "created_by": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "track_lat": {
                    "type": "string",
                    "example": "-6.200000"
                },
                "track_long": {
                    "type": "string",
                    "example": "106.816666"
                },
                "track_type": {
                    "type": "string",
                    "example": "live"
                }
            }
        },
        "entities.ResponseBadRequest": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "app_source is not valid"
                },
                "status": {
                    "type": "string",
                    "example": "failed"
                }
            }
        },
        "entities.ResponseCreateTrack": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/entities.Track"
                },
                "message": {
                    "type": "string",
                    "example": "Track created"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "entities.ResponseCreateTrackMulti": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entities.Track"
                    }
                },
                "message": {
                    "type": "string",
                    "example": "Track created"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "entities.ResponseDeleteTrackById": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "Track permanentally deleted"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "entities.ResponseGetAllTrack": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entities.Track"
                    }
                },
                "message": {
                    "type": "string",
                    "example": "Track fetched"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "entities.ResponseNotFound": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "track not found"
                },
                "status": {
                    "type": "string",
                    "example": "failed"
                }
            }
        },
        "entities.Track": {
            "type": "object",
            "properties": {
                "app_source": {
                    "type": "string"
                },
                "battery_indicator": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "created_by": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "track_lat": {
                    "type": "string"
                },
                "track_long": {
                    "type": "string"
                },
                "track_type": {
                    "type": "string"
                }
            }
        }
    }
}